<ion-app>
  <ion-menu content-id="main-content">
    <ion-header>
      <ion-toolbar style="--background: #5FC2BA;">
        <ion-title>Menu Content</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      <ion-list>
        <ion-item button [routerLink]="['/all-posts']">
          <ion-icon slot="start" name="person"></ion-icon>
          <ion-label>All posts</ion-label>
        </ion-item>
        <ion-item button [routerLink]="['/posts', userId]">
          <ion-icon slot="start" name="person"></ion-icon>
          <ion-label>My posts</ion-label>
        </ion-item>        
        <ion-item button>
          <ion-icon slot="start" name="person"></ion-icon>
          <ion-label>Profil</ion-label>
        </ion-item>
        <ion-item button>
          <ion-icon slot="start" name="settings"></ion-icon>
          <ion-label>Settings</ion-label>
        </ion-item>
        <ion-item button>
          <ion-icon slot="start" name="help-circle"></ion-icon>
          <ion-label>Help</ion-label>
        </ion-item>
      </ion-list>
    </ion-content>
  </ion-menu>

  <div class="ion-page" id="main-content">
    <ion-header>
      <ion-toolbar style="--background: #5FC2BA;">
        <ion-buttons slot="start">
          <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title>All Posts</ion-title>
        <ion-buttons slot="end">
          <ion-button (click)="signOut()">
            <ion-icon slot="icon-only" name="log-out"></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      <ion-grid>
        <ion-row>
          <ion-col sizeLg="4" sizeMd="4" sizeXs="6" *ngFor="let p of postsList" (click)="openPost(p)">
            <ion-card>
              <ion-card-header>
                <ion-card-title class="title">{{p.title}}</ion-card-title>
                <ion-card-subtitle color="secondary">06:11</ion-card-subtitle>
              </ion-card-header>
              <ion-card-content class="content">
                {{p.content }}
              </ion-card-content>
            </ion-card>
          </ion-col>
        </ion-row>
      </ion-grid>

      <ion-modal #modal [initialBreakpoint]="0.5" [breakpoints]="[0, 0.25, 0.5, 0.75]" trigger="open-modal" (willDismiss)="onWillDismiss($event)">
        <ng-template>
          <ion-header>
            <ion-toolbar style="--background: #5FC2BA;">
              <ion-buttons slot="start">
                <ion-button (click)="cancel()">Cancel</ion-button>
              </ion-buttons>
              <ion-title>Add Post</ion-title>
              <ion-buttons slot="end">
                <ion-button (click)="confirm()" [strong]="true">Save</ion-button>
              </ion-buttons>
            </ion-toolbar>
          </ion-header>
          <ion-content class="ion-padding">
            <ion-item>
              <ion-label position="stacked">Title</ion-label>
              <ion-input type="text" placeholder="Enter title" [(ngModel)]="title"></ion-input>
            </ion-item>
            <ion-textarea class="text-content" rows="15" lines="none" placeholder="Quick description of your DIY product" [(ngModel)]="posts"></ion-textarea>
          </ion-content>
        </ng-template>
      </ion-modal>

      <ion-fab slot="fixed" vertical="bottom" horizontal="center">
        <ion-fab-button id="open-modal" class="custom-fab-background">
          <ion-icon name="add"></ion-icon>
        </ion-fab-button>
      </ion-fab>
    </ion-content>
  </div>
</ion-app>

<style>
  ion-menu::part(backdrop) {
    background-color: #5FC2BA;
  }

  ion-menu::part(container) {
    border-radius: 0 20px 20px 0;
    box-shadow: 4px 0px 16px #3B556D;
  }

  .custom-fab-background {
    --background: #5FC2BA;
  }
</style>
